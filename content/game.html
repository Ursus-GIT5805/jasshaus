<!DOCTYPE html>
<html>
    <head>
        <title>Jasshaus | Partie</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    </head>

    <link rel="stylesheet" href="css/game.css"/>
    <link rel="stylesheet" href="css/voting.css"/>
    <link rel="stylesheet" href="css/carpet.css"/>
    <link rel="stylesheet" href="css/window.css"/>
	<link rel="stylesheet" href="css/chat.css"/>
    <link rel="stylesheet" href="css/hand.css"/>

    <body>
        <img src="img/background.jpg" id="background">

        <div id="carpet"></div>
		<div id="cards" class="Hand"></div>

        <div id="roundDetails">
            <div id="namePT"></div>
            <div id="roundSymbols">
                <img src="img/misere.png" id="roundMisere"/>
                <img src="img/updown.png" id="roundPT"/>
				<div>
				  <img src="img/downup.png" id="roundRT">
                  <img src="img/pass.png" id="roundPass">
				</div>
			</div>
        </div>
        <div id="gameDetails">
          <a><u>Schieber <a text="max_points"></a></u></a><br>
		  <div id="gameTeams"></div>
        </div>

		<div id="pright" class="CenterY" style="right:0; display: flex; flex-direction: column;"></div>
		<div id="pup" class="CenterX" style="top:0; display: flex;"></div>
		<div id="pleft" class="CenterY" style="left:0; display: flex; flex-direction: column;"></div>

        <!-- Popup windows -->
        <div class="Window" id="announceWindow">
            <h1>Sage an!</h1>
            <div class="PTRow">
              <div onclick='announce("SlalomUpdown")'><img id="PT6" src="img/slalomup.png" >Slalom Obenabe</div>
              <div onclick='announce("Updown")'><img id="PT0" src="img/updown.png">Obenabe</div>
              <div onclick='announce("Downup")'><img id="PT1" src="img/downup.png">Undeufe</div>
              <div onclick='announce("SlalomDownup")'><img id="PT7" src="img/slalomdown.png">Slalom Undeufe</div>
            </div>
            <div class="PTRow">
              <div onclick='announce({"Color": 0})'><img src="img/trumpfshield.png"><a id="PTT2">Schilten</a></div>
              <div onclick='announce({"Color": 1})'><img src="img/trumpfacorn.png"><a id="PTT3">Eicheln</a></div>
              <div onclick='announce({"Color": 2})'><img src="img/trumpfrose.png"><a id="PTT4">Rosen</a></div>
              <div onclick='announce({"Color": 3})'><img src="img/trumpfbell.png"><a id="PTT5">Schellen</a></div>
            </div>
            <div class="PTRow">
              <div id="misereButton"><img src="img/misere.png">Mis√®re</div>
              <div onclick='announce("Guschti")'><img id="PT8" src="img/guschti.png">Guschti</div>
              <div onclick='announce("Mary")'><img id="PT9" src="img/mary.png">Mary</div>
              <div id="passButton"><img src="img/pass.png">Schieben</div>
            </div>
        </div>

        <div class="Window" id="endWindow">
          <h1 id="endResult"></h1>
		  <div id="endTeams"></div>
		  <a href="index.html"><div class="Button" style="background-color:red;">Spiel verlassen</div></a>
        </div>

        <div id="roundWindow" class="Window">
		  <div id="roundSummary"></div>
          <div id="closeSummary">Weiter</div>
        </div>

        <div class="Window" id="showWindow">
            <h1 id="showTitle">Weisen?</h1>
            <div id="showCards"></div>
			<div>
              <div id="showConfirm" class="Button">Weisen</div>
              <div id="showCancel" class="Button">Schinden</div>
			</div>
		</div>

		<div class="Window" id="startWindow">Bitte warten Sie auf weitere Spieler...</div>

        <div class="Window" id="infoWindow">
            <h2><u id="infoTitle">Info</u></h2>
            <a id="infoText"></a>
            <div id="infoButton" class="Button">Okay</div>
        </div>

		<div id="botrightbuttons"></div>

        <a href="index.html">
		  <img class="ActionButton" src="img/settings.svg" id="settingsButton" style="position: absolute; bottom: 0; left: 0;"/>
		</a>

		<div id="chatWindow">
		  <div id="chatClose">Close</div>
		  <div id="chat">
			<input id="chatInput" placeholder="Input"/>
			<div id="chatHistory"></div>
		  </div>
		  <div id="playerSettings"></div>
		</div>

    </body>

	<script type="module">
	  import init, * as exports from "./pkg/jasshaus_game.js";
	  Object.entries(exports).forEach(([name, exported]) => window[name] = exported);
      await init();
	  afterModule();
	</script>

	<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
	<script src="js/voting.js" type="text/javascript"/></script>
    <script src="js/formcreator.js" type="text/javascript"/></script>
    <script src="js/settings.js" type="text/javascript"/></script>

    <script src="js/game/chat.js" type="text/javascript"/></script>
    <script src="js/game/player.js" type="text/javascript"/></script>
    <script src="js/game/carpet.js" type="text/javascript"/></script>
    <script src="js/game/hand.js" type="text/javascript"/></script>
    <script src="js/game/round.js" type="text/javascript"/></script>
    <script src="js/game/main.js" type="text/javascript"/></script>
    <script src="js/game/window.js" type="text/javascript"/></script>
    <script src="js/game/ws.js" type="text/javascript"/></script>
</html>
